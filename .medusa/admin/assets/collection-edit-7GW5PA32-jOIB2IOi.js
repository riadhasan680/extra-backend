import{K as u}from"./chunk-6HTZNHPT-DWUk5soK.js";import{R as a}from"./chunk-WVA4O7QS-B2aCntuO.js";import{u as f}from"./chunk-D6UW7URG-D6D77Ltf.js";import{ag as p,b as h,ek as g,j as e,H as C,aC as b,aD as v,eo as y,J as s,K as d,a3 as F,B as m,ax as E,az as x}from"./index-D2YvuHvs.js";var N=E({title:x().min(1),handle:x().min(1)}),S=({collection:r})=>{const{t:l}=h(),{handleSuccess:i}=f(),t=b({defaultValues:{title:r.title,handle:r.handle},resolver:v(N)}),{mutateAsync:o,isPending:c}=y(r.id),j=t.handleSubmit(async n=>{await o(n,{onSuccess:()=>{i()}})});return e.jsx(a.Form,{form:t,children:e.jsxs(u,{onSubmit:j,className:"flex flex-1 flex-col",children:[e.jsx(a.Body,{children:e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx(s.Field,{control:t.control,name:"title",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:l("fields.title")}),e.jsx(s.Control,{children:e.jsx(d,{...n})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:t.control,name:"handle",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{tooltip:l("collections.handleTooltip"),children:l("fields.handle")}),e.jsx(s.Control,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 z-10 flex w-8 items-center justify-center border-r",children:e.jsx(F,{className:"text-ui-fg-muted",size:"small",leading:"compact",weight:"plus",children:"/"})}),e.jsx(d,{...n,className:"pl-10"})]})}),e.jsx(s.ErrorMessage,{})]})})]})}),e.jsx(a.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(a.Close,{asChild:!0,children:e.jsx(m,{size:"small",variant:"secondary",children:l("actions.cancel")})}),e.jsx(m,{size:"small",type:"submit",isLoading:c,children:l("actions.save")})]})})]})})},R=()=>{const{id:r}=p(),{t:l}=h(),{collection:i,isLoading:t,isError:o,error:c}=g(r);if(o)throw c;return e.jsxs(a,{children:[e.jsx(a.Header,{children:e.jsx(C,{children:l("collections.editCollection")})}),!t&&i&&e.jsx(S,{collection:i})]})};export{R as Component};
